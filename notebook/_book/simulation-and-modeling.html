<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Simulation and modeling | Data Science course notes</title>
  <meta name="description" content="Chapter 7 Simulation and modeling | Data Science course notes" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Simulation and modeling | Data Science course notes" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="jsduenass/datasciencecoursera" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Simulation and modeling | Data Science course notes" />
  
  
  

<meta name="author" content="Juan Sebastian D" />


<meta name="date" content="2021-04-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="loop-functions.html"/>
<link rel="next" href="module3.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/jsduenass">More projects</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="part"><span><b>I The Data Scientists Toolbox</b></span></li>
<li class="chapter" data-level="1" data-path="module1.html"><a href="module1.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="module1.html"><a href="module1.html#final-assessment"><i class="fa fa-check"></i><b>1.1</b> final assessment</a></li>
</ul></li>
<li class="part"><span><b>II About R Programming</b></span></li>
<li class="chapter" data-level="" data-path="module2.html"><a href="module2.html"><i class="fa fa-check"></i>Summary</a></li>
<li class="chapter" data-level="2" data-path="getting-acquainted-with-r.html"><a href="getting-acquainted-with-r.html"><i class="fa fa-check"></i><b>2</b> Getting acquainted with R</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-acquainted-with-r.html"><a href="getting-acquainted-with-r.html#looking-at-data"><i class="fa fa-check"></i><b>2.1</b> Looking at Data</a></li>
<li class="chapter" data-level="2.2" data-path="getting-acquainted-with-r.html"><a href="getting-acquainted-with-r.html#sessions-and-environment"><i class="fa fa-check"></i><b>2.2</b> Sessions and environment</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>3</b> Data types</a><ul>
<li class="chapter" data-level="3.1" data-path="data-types.html"><a href="data-types.html#exotic-data-types"><i class="fa fa-check"></i><b>3.1</b> Exotic data types</a></li>
<li class="chapter" data-level="3.2" data-path="data-types.html"><a href="data-types.html#data-conversion"><i class="fa fa-check"></i><b>3.2</b> Data conversion</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-types.html"><a href="data-types.html#vector"><i class="fa fa-check"></i><b>3.2.1</b> vector</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-types.html"><a href="data-types.html#vector-operations"><i class="fa fa-check"></i><b>3.2.2</b> Vector operations</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-types.html"><a href="data-types.html#vector-indexing"><i class="fa fa-check"></i><b>3.2.3</b> vector indexing</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-types.html"><a href="data-types.html#matrices"><i class="fa fa-check"></i><b>3.3</b> matrices</a></li>
<li class="chapter" data-level="3.4" data-path="data-types.html"><a href="data-types.html#factor"><i class="fa fa-check"></i><b>3.4</b> factor</a></li>
<li class="chapter" data-level="3.5" data-path="data-types.html"><a href="data-types.html#data-frames"><i class="fa fa-check"></i><b>3.5</b> Data frames</a><ul>
<li class="chapter" data-level="3.5.1" data-path="data-types.html"><a href="data-types.html#dollar-sign-and-double-brackets"><i class="fa fa-check"></i><b>3.5.1</b> Dollar sign and double brackets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="miscellaneous.html"><a href="miscellaneous.html"><i class="fa fa-check"></i><b>4</b> Miscellaneous</a><ul>
<li class="chapter" data-level="4.1" data-path="miscellaneous.html"><a href="miscellaneous.html#missing-data-nan-na-and-null"><i class="fa fa-check"></i><b>4.1</b> Missing data NaN, NA and NULL</a></li>
<li class="chapter" data-level="4.2" data-path="miscellaneous.html"><a href="miscellaneous.html#functions"><i class="fa fa-check"></i><b>4.2</b> functions</a></li>
<li class="chapter" data-level="4.3" data-path="miscellaneous.html"><a href="miscellaneous.html#plot"><i class="fa fa-check"></i><b>4.3</b> plot</a><ul>
<li class="chapter" data-level="4.3.1" data-path="miscellaneous.html"><a href="miscellaneous.html#practical-exercise"><i class="fa fa-check"></i><b>4.3.1</b> practical exercise</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="miscellaneous.html"><a href="miscellaneous.html#r-packages"><i class="fa fa-check"></i><b>4.4</b> R Packages</a><ul>
<li class="chapter" data-level="4.4.1" data-path="miscellaneous.html"><a href="miscellaneous.html#create-your-own-package"><i class="fa fa-check"></i><b>4.4.1</b> create your own package</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="miscellaneous.html"><a href="miscellaneous.html#read-info-with-read-table"><i class="fa fa-check"></i><b>4.5</b> Read info with read table</a></li>
<li class="chapter" data-level="4.6" data-path="miscellaneous.html"><a href="miscellaneous.html#week-assignment"><i class="fa fa-check"></i><b>4.6</b> week assignment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="scripting.html"><a href="scripting.html"><i class="fa fa-check"></i><b>5</b> Scripting</a><ul>
<li class="chapter" data-level="5.1" data-path="scripting.html"><a href="scripting.html#functions-1"><i class="fa fa-check"></i><b>5.1</b> functions</a><ul>
<li class="chapter" data-level="5.1.1" data-path="scripting.html"><a href="scripting.html#defining-arguments"><i class="fa fa-check"></i><b>5.1.1</b> defining arguments</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="scripting.html"><a href="scripting.html#scoping-rules"><i class="fa fa-check"></i><b>5.2</b> Scoping rules</a></li>
<li class="chapter" data-level="5.3" data-path="scripting.html"><a href="scripting.html#what-happened-in-1970-01-01"><i class="fa fa-check"></i><b>5.3</b> What happened in 1970-01-01?</a></li>
<li class="chapter" data-level="5.4" data-path="scripting.html"><a href="scripting.html#swirl-practices"><i class="fa fa-check"></i><b>5.4</b> SWIRL practices</a><ul>
<li class="chapter" data-level="5.4.1" data-path="scripting.html"><a href="scripting.html#logical-operations"><i class="fa fa-check"></i><b>5.4.1</b> logical operations:</a></li>
<li class="chapter" data-level="5.4.2" data-path="scripting.html"><a href="scripting.html#functions-2"><i class="fa fa-check"></i><b>5.4.2</b> functions:</a></li>
<li class="chapter" data-level="5.4.3" data-path="scripting.html"><a href="scripting.html#dates-and-times"><i class="fa fa-check"></i><b>5.4.3</b> Dates and times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="loop-functions.html"><a href="loop-functions.html"><i class="fa fa-check"></i><b>6</b> Loop functions</a><ul>
<li class="chapter" data-level="6.1" data-path="loop-functions.html"><a href="loop-functions.html#debbuging-and-error-handling"><i class="fa fa-check"></i><b>6.1</b> Debbuging and error handling</a></li>
<li class="chapter" data-level="6.2" data-path="loop-functions.html"><a href="loop-functions.html#r-objects"><i class="fa fa-check"></i><b>6.2</b> R objects</a></li>
<li class="chapter" data-level="6.3" data-path="loop-functions.html"><a href="loop-functions.html#create-package-documentation"><i class="fa fa-check"></i><b>6.3</b> Create package documentation</a></li>
<li class="chapter" data-level="6.4" data-path="loop-functions.html"><a href="loop-functions.html#swirl-practices-1"><i class="fa fa-check"></i><b>6.4</b> SWIRL practices</a><ul>
<li class="chapter" data-level="6.4.1" data-path="loop-functions.html"><a href="loop-functions.html#lapply-sapply"><i class="fa fa-check"></i><b>6.4.1</b> lapply sapply</a></li>
<li class="chapter" data-level="6.4.2" data-path="loop-functions.html"><a href="loop-functions.html#vapply-and-tapply"><i class="fa fa-check"></i><b>6.4.2</b> vapply and tapply</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html"><i class="fa fa-check"></i><b>7</b> Simulation and modeling</a><ul>
<li class="chapter" data-level="7.1" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#simulation"><i class="fa fa-check"></i><b>7.1</b> Simulation</a></li>
<li class="chapter" data-level="7.2" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#sampling"><i class="fa fa-check"></i><b>7.2</b> sampling</a></li>
<li class="chapter" data-level="7.3" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#code-optimization"><i class="fa fa-check"></i><b>7.3</b> Code Optimization</a></li>
<li class="chapter" data-level="7.4" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#swirl-practices-2"><i class="fa fa-check"></i><b>7.4</b> SWIRL practices</a><ul>
<li class="chapter" data-level="7.4.1" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#looking-at-data-1"><i class="fa fa-check"></i><b>7.4.1</b> Looking at Data</a></li>
<li class="chapter" data-level="7.4.2" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#simulation-1"><i class="fa fa-check"></i><b>7.4.2</b> Simulation</a></li>
<li class="chapter" data-level="7.4.3" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#base-graphics"><i class="fa fa-check"></i><b>7.4.3</b> Base Graphics</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="simulation-and-modeling.html"><a href="simulation-and-modeling.html#final-assignment"><i class="fa fa-check"></i><b>7.5</b> Final assignment</a></li>
</ul></li>
<li class="part"><span><b>III Getting and Cleaning data</b></span></li>
<li class="chapter" data-level="" data-path="module3.html"><a href="module3.html"><i class="fa fa-check"></i>Summary</a><ul>
<li class="chapter" data-level="7.6" data-path="module3.html"><a href="module3.html#learning-objectives"><i class="fa fa-check"></i><b>7.6</b> Learning objectives:</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-recipes.html"><a href="data-recipes.html"><i class="fa fa-check"></i><b>8</b> Data recipes</a><ul>
<li class="chapter" data-level="8.1" data-path="data-recipes.html"><a href="data-recipes.html#codebook"><i class="fa fa-check"></i><b>8.1</b> codebook</a></li>
<li class="chapter" data-level="8.2" data-path="data-recipes.html"><a href="data-recipes.html#downloading-files"><i class="fa fa-check"></i><b>8.2</b> Downloading files</a></li>
<li class="chapter" data-level="8.3" data-path="data-recipes.html"><a href="data-recipes.html#xlm"><i class="fa fa-check"></i><b>8.3</b> XLM</a></li>
<li class="chapter" data-level="8.4" data-path="data-recipes.html"><a href="data-recipes.html#json"><i class="fa fa-check"></i><b>8.4</b> JSON</a></li>
<li class="chapter" data-level="8.5" data-path="data-recipes.html"><a href="data-recipes.html#data-table"><i class="fa fa-check"></i><b>8.5</b> data table</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-formats.html"><a href="data-formats.html"><i class="fa fa-check"></i><b>9</b> Data Formats</a><ul>
<li class="chapter" data-level="9.1" data-path="data-formats.html"><a href="data-formats.html#mysql-database"><i class="fa fa-check"></i><b>9.1</b> MySQL database</a><ul>
<li class="chapter" data-level="9.1.1" data-path="data-formats.html"><a href="data-formats.html#sql-commands"><i class="fa fa-check"></i><b>9.1.1</b> SQL commands</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-formats.html"><a href="data-formats.html#read-data-from-hdf5"><i class="fa fa-check"></i><b>9.2</b> read data from HDF5</a></li>
<li class="chapter" data-level="9.3" data-path="data-formats.html"><a href="data-formats.html#web-scrapping"><i class="fa fa-check"></i><b>9.3</b> web scrapping</a></li>
<li class="chapter" data-level="9.4" data-path="data-formats.html"><a href="data-formats.html#apis"><i class="fa fa-check"></i><b>9.4</b> APIs</a></li>
<li class="chapter" data-level="9.5" data-path="data-formats.html"><a href="data-formats.html#catch-all"><i class="fa fa-check"></i><b>9.5</b> Catch all</a></li>
<li class="chapter" data-level="9.6" data-path="data-formats.html"><a href="data-formats.html#quiz"><i class="fa fa-check"></i><b>9.6</b> QUIZ</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="on-reproducible-research.html"><a href="on-reproducible-research.html"><i class="fa fa-check"></i><b>10</b> On reproducible research</a></li>
<li class="chapter" data-level="11" data-path="final-regards.html"><a href="final-regards.html"><i class="fa fa-check"></i><b>11</b> Final regards</a><ul>
<li class="chapter" data-level="11.1" data-path="final-regards.html"><a href="final-regards.html#references"><i class="fa fa-check"></i><b>11.1</b> References</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science course notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simulation-and-modeling" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Simulation and modeling</h1>
<p>profiler is R a tool that allows you to check the performance of your functions and would help you optimize</p>
<p>The <code>str()</code> function gives a quick examination of R objects functions and data properties, useful for having a general idea of what an specific expression is.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" title="1"><span class="kw">str</span>(str)</a>
<a class="sourceLine" id="cb174-2" title="2"><span class="kw">library</span>(datasets)</a>
<a class="sourceLine" id="cb174-3" title="3"><span class="kw">head</span>(airquality)</a>
<a class="sourceLine" id="cb174-4" title="4"><span class="kw">str</span>(airquality)</a>
<a class="sourceLine" id="cb174-5" title="5">s &lt;-<span class="st"> </span><span class="kw">split</span>(airquality,airquality<span class="op">$</span>Month)</a>
<a class="sourceLine" id="cb174-6" title="6"><span class="kw">str</span>(s) </a></code></pre></div>
<div id="simulation" class="section level2">
<h2><span class="header-section-number">7.1</span> Simulation</h2>
<p>because R is statistics orientated it has many functions used for creating distributions. Each type of distribution like normal, Poisson, etc. has associated the following prefixes that specify different outcomes.</p>
<ul>
<li><strong>d:</strong> density</li>
<li>__r:__random number generation</li>
<li><strong>p:</strong> cumulative</li>
<li><strong>q:</strong> quantile</li>
</ul>
<p>The following are some examples.</p>
<ul>
<li><p><strong>rnorm:</strong> normal distribution given a mean and a standard deviation</p></li>
<li><p><strong>dnorm:</strong> Probability density</p></li>
<li><p><strong>pnorm:</strong> Cumulative distribution from a normal distribution</p></li>
</ul>
<p>*<strong>rpois:</strong> generates a random Possion distribution given a defined rate</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1"><span class="kw">library</span>(datasets)</a>
<a class="sourceLine" id="cb175-2" title="2"><span class="kw">with</span>(airquality,<span class="kw">tapply</span>(Temp,Month,mean))</a></code></pre></div>
<pre><code>##        5        6        7        8        9 
## 65.54839 79.10000 83.90323 83.96774 76.90000</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" title="1">Temperature&lt;-<span class="st"> </span>airquality<span class="op">$</span>Temp</a>
<a class="sourceLine" id="cb177-2" title="2"></a>
<a class="sourceLine" id="cb177-3" title="3">model &lt;-<span class="kw">rnorm</span>(<span class="dv">153</span>,<span class="kw">mean</span>(Temperature),<span class="kw">sd</span>(Temperature))</a>
<a class="sourceLine" id="cb177-4" title="4"> </a>
<a class="sourceLine" id="cb177-5" title="5"></a>
<a class="sourceLine" id="cb177-6" title="6"><span class="kw">plot</span>(<span class="kw">density</span>(Temperature))</a></code></pre></div>
<div class="figure"><span id="fig:air-density-1"></span>
<img src="Data_Science_Notes_files/figure-html/air-density-1.png" alt="air density" width="672" />
<p class="caption">
Figure 7.1: air density
</p>
</div>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" title="1"><span class="kw">plot</span>(<span class="kw">density</span>(model))</a></code></pre></div>
<div class="figure"><span id="fig:air-density-2"></span>
<img src="Data_Science_Notes_files/figure-html/air-density-2.png" alt="air density" width="672" />
<p class="caption">
Figure 7.2: air density
</p>
</div>
<p>R produces random number that are not entirely random, instead they are made through a pseudo random generator, an algorithm that will map the output to a list of values with a determined probabilistic distribution. A seed will determine the behavior of the algorithm, any seed will always map to the same numbers. It is important to be able to reproduce the exact same results, so the <code>set.seed()</code> function is used to ensure that the random values generated stay the same.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" title="1"><span class="kw">print</span>(<span class="st">&quot; set seed to 3&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot; set seed to 3&quot;</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" title="1"><span class="kw">set.seed</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb181-2" title="2"><span class="kw">rnorm</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] -0.9619334 -0.2925257  0.2587882 -1.1521319  0.1957828</code></pre>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" title="1"><span class="kw">print</span>(<span class="st">&quot;seed not set &quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;seed not set &quot;</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" title="1"><span class="kw">rnorm</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1]  0.03012394  0.08541773  1.11661021 -1.21885742  1.26736872</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" title="1"><span class="kw">print</span>(<span class="st">&quot; set seed to 3 again&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot; set seed to 3 again&quot;</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" title="1"><span class="kw">set.seed</span>(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb189-2" title="2"><span class="kw">rnorm</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] -0.9619334 -0.2925257  0.2587882 -1.1521319  0.1957828</code></pre>
<p>We want to create a linear model of the form</p>
<p><span class="math display" id="eq:binom">\[\begin{equation*} 
  y= \beta _1 + \beta_2 x +\epsilon
  \tag{7.1}
\end{equation*}\]</span></p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" title="1"><span class="kw">set.seed</span>(<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb191-2" title="2">x&lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb191-3" title="3"><span class="kw">set.seed</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb191-4" title="4">e &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>,<span class="dv">0</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb191-5" title="5">y&lt;-<span class="st"> </span><span class="fl">0.5</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">*</span>x <span class="op">+</span><span class="st"> </span>e</a>
<a class="sourceLine" id="cb191-6" title="6"><span class="kw">plot</span>(x,y)</a></code></pre></div>
<p><img src="Data_Science_Notes_files/figure-html/linear-model-1.png" width="672" /></p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" title="1"><span class="kw">set.seed</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb192-2" title="2">x&lt;-<span class="st"> </span><span class="kw">rbinom</span>(<span class="dv">100</span>,<span class="dv">1</span>,<span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb192-3" title="3"><span class="kw">set.seed</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb192-4" title="4">e &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>,<span class="dv">0</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb192-5" title="5">y&lt;-<span class="st"> </span><span class="fl">0.5</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">*</span>x <span class="op">+</span><span class="st"> </span>e</a>
<a class="sourceLine" id="cb192-6" title="6"><span class="kw">plot</span>(x,y)</a></code></pre></div>
<p><img src="Data_Science_Notes_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
</div>
<div id="sampling" class="section level2">
<h2><span class="header-section-number">7.2</span> sampling</h2>
</div>
<div id="code-optimization" class="section level2">
<h2><span class="header-section-number">7.3</span> Code Optimization</h2>
<p>R profiler
examines how much does it take to run a piece of code</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" title="1"><span class="co">#Rprof(&quot;../data/Profile.out&quot;)</span></a>
<a class="sourceLine" id="cb193-2" title="2"><span class="co">#source(&quot;../code/covid_19.R&quot;,echo=FALSE)</span></a>
<a class="sourceLine" id="cb193-3" title="3"><span class="co">#Rprof(NULL)</span></a>
<a class="sourceLine" id="cb193-4" title="4">details&lt;-<span class="kw">summaryRprof</span>(<span class="st">&quot;../data/Profile.out&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in readLines(con, n = chunksize): incomplete final line found on &#39;../
## data/Profile.out&#39;</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" title="1"><span class="kw">head</span>(details<span class="op">$</span>by.self)</a></code></pre></div>
<pre><code>##                         self.time self.pct total.time total.pct
## &quot;charToDate&quot;                 3.80    73.36       3.80     73.36
## &quot;scan&quot;                       0.96    18.53       0.96     18.53
## &quot;as.Date&quot;                    0.08     1.54       3.86     74.52
## &quot;FUN&quot;                        0.04     0.77       0.08      1.54
## &quot;mget&quot;                       0.04     0.77       0.04      0.77
## &quot;.rs.getHelpFromObject&quot;      0.02     0.39       0.24      4.63</code></pre>
<p>The time spend be of tow different categories <code>$by.self</code> or <code>by.total</code> the latter has the disadvantages that it records the time full time the top level function tend to spend must of the time can
What</p>
<p>by the example we can see that must of the time is spent on converting data into Date type. we</p>
<p>library(profvis)</p>
</div>
<div id="swirl-practices-2" class="section level2">
<h2><span class="header-section-number">7.4</span> SWIRL practices</h2>
<p>As part of this weeks activities the following swirl practices</p>
<div id="looking-at-data-1" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Looking at Data</h3>
<p>when first introduce to a dataset you need to gain a broad understanding of the data, R has many functions usefull for exploratory analysis, pocking around the data and knowing what it is in there.</p>
<ul>
<li><p><code>dim()</code></p></li>
<li><p><code>names()</code></p></li>
<li><p><code>object.size()</code> allows you to know how much space a dataset is occupying in memory</p></li>
<li><p><code>summary()</code> is very useful to get a sense of the data it give properties such as the mean, the median, the number of NA values, etc.</p></li>
<li><p><code>table()</code></p></li>
<li><p><code>str()</code></p></li>
</ul>
</div>
<div id="simulation-1" class="section level3">
<h3><span class="header-section-number">7.4.2</span> Simulation</h3>
<p>simulate the probability of a flip of a coin with an skewed probability of 70% head and 30% tails. We could use <code>sample</code> with replacement and specify to find the number of times it would land heads making 100 flip, how ever the binomial distribution function <code>rbinom</code> to simulate the expected value, and not only once but the times necessary</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" title="1"><span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb197-2" title="2"><span class="kw">rbinom</span>(<span class="dv">1</span>,<span class="dt">size=</span><span class="dv">100</span>,<span class="dt">prob=</span><span class="fl">0.7</span>)</a></code></pre></div>
<pre><code>## [1] 68</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" title="1"><span class="kw">set.seed</span>(<span class="dv">13</span>)</a>
<a class="sourceLine" id="cb199-2" title="2">heads&lt;-<span class="st"> </span><span class="kw">rbinom</span>(<span class="dv">500</span>,<span class="dt">size=</span><span class="dv">100</span>,<span class="dt">prob=</span><span class="fl">0.7</span>)</a>
<a class="sourceLine" id="cb199-3" title="3"></a>
<a class="sourceLine" id="cb199-4" title="4"><span class="kw">hist</span>(heads)</a></code></pre></div>
<div class="figure"><span id="fig:coin-flip"></span>
<img src="Data_Science_Notes_files/figure-html/coin-flip-1.png" alt="heads expected of 100 coin flips" width="672" />
<p class="caption">
Figure 7.3: heads expected of 100 coin flips
</p>
</div>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" title="1"><span class="kw">range</span>(heads)</a></code></pre></div>
<pre><code>## [1] 51 84</code></pre>
<p>Generate 100 groups of random numbers each one of 5 vaules generate with a Poisson distribution with mean 10</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" title="1"><span class="kw">set.seed</span>(<span class="dv">19</span>)</a>
<a class="sourceLine" id="cb202-2" title="2"><span class="kw">rpois</span>(<span class="dv">5</span>,<span class="dt">lambda =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>## [1]  6  5  8 13  9</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" title="1">my_pois&lt;-<span class="st"> </span><span class="kw">replicate</span>(<span class="dv">100</span>,<span class="kw">rpois</span>(<span class="dv">5</span>,<span class="dv">10</span>))</a></code></pre></div>
<p>Other distributions: exponential <code>rexp()</code>, chi-squared <code>rchisq()</code>, gamma <code>rgamma()</code></p>
</div>
<div id="base-graphics" class="section level3">
<h3><span class="header-section-number">7.4.3</span> Base Graphics</h3>
<p>lattice, ggplot2 and ggvis</p>
<p><a href="http://varianceexplained.org/r/teach_ggplot2_to_beginners/" class="uri">http://varianceexplained.org/r/teach_ggplot2_to_beginners/</a></p>
<p><a href="http://www.ling.upenn.edu/~joseff/rstudy/week4.html" class="uri">http://www.ling.upenn.edu/~joseff/rstudy/week4.html</a></p>
<p>load <code>data</code></p>
<p>plot is to scatterplot</p>
<p>“formula” interface plot(dist ~ speed, cars)</p>
<p>xlab = “xlabel”, ylab=“ylabel”, main =“title”
sub=“My Plot Subtitle”
col=2 color red
?points
pch=2</p>
<p>?boxplot</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" title="1"><span class="kw">data</span>(mtcars)</a>
<a class="sourceLine" id="cb205-2" title="2"><span class="kw">boxplot</span>(mpg<span class="op">~</span><span class="st"> </span>cyl, <span class="dt">data=</span>mtcars)</a></code></pre></div>
<p><img src="Data_Science_Notes_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
</div>
</div>
<div id="final-assignment" class="section level2">
<h2><span class="header-section-number">7.5</span> Final assignment</h2>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="loop-functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="module3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
