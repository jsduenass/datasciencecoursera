<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 week 2: Scripting | Data Science course notes</title>
  <meta name="description" content="Chapter 5 week 2: Scripting | Data Science course notes" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 week 2: Scripting | Data Science course notes" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="jsduenass/datasciencecoursera" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 week 2: Scripting | Data Science course notes" />
  
  
  

<meta name="author" content="Juan Sebastian D" />


<meta name="date" content="2020-07-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week-1-part-ii.html"/>
<link rel="next" href="week-3.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/jsduenass">A notebook through my learning journey</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="part"><span><b>I Module 1</b></span></li>
<li class="chapter" data-level="1" data-path="the-data-scientists-toolbox.html"><a href="the-data-scientists-toolbox.html"><i class="fa fa-check"></i><b>1</b> The Data Scientists Toolbox</a><ul>
<li class="chapter" data-level="1.1" data-path="the-data-scientists-toolbox.html"><a href="the-data-scientists-toolbox.html#final-assessment"><i class="fa fa-check"></i><b>1.1</b> final assessment</a></li>
</ul></li>
<li class="part"><span><b>II Module 2</b></span></li>
<li class="chapter" data-level="2" data-path="about-r-programming.html"><a href="about-r-programming.html"><i class="fa fa-check"></i><b>2</b> About R Programming</a></li>
<li class="chapter" data-level="3" data-path="week-1-part-i.html"><a href="week-1-part-i.html"><i class="fa fa-check"></i><b>3</b> week 1 Part I</a><ul>
<li class="chapter" data-level="3.1" data-path="week-1-part-i.html"><a href="week-1-part-i.html#getting-to-know-r"><i class="fa fa-check"></i><b>3.1</b> Getting to know R</a></li>
<li class="chapter" data-level="3.2" data-path="week-1-part-i.html"><a href="week-1-part-i.html#sessions-and-environment"><i class="fa fa-check"></i><b>3.2</b> Sessions and environment</a></li>
<li class="chapter" data-level="3.3" data-path="week-1-part-i.html"><a href="week-1-part-i.html#vector-operations"><i class="fa fa-check"></i><b>3.3</b> Vector operations</a></li>
<li class="chapter" data-level="3.4" data-path="week-1-part-i.html"><a href="week-1-part-i.html#vector-indexing"><i class="fa fa-check"></i><b>3.4</b> vector indexing</a></li>
<li class="chapter" data-level="3.5" data-path="week-1-part-i.html"><a href="week-1-part-i.html#data-types"><i class="fa fa-check"></i><b>3.5</b> Data types</a><ul>
<li class="chapter" data-level="3.5.1" data-path="week-1-part-i.html"><a href="week-1-part-i.html#exotic-data"><i class="fa fa-check"></i><b>3.5.1</b> Exotic data</a></li>
<li class="chapter" data-level="3.5.2" data-path="week-1-part-i.html"><a href="week-1-part-i.html#data-convertion"><i class="fa fa-check"></i><b>3.5.2</b> Data convertion</a></li>
<li class="chapter" data-level="3.5.3" data-path="week-1-part-i.html"><a href="week-1-part-i.html#data-frames"><i class="fa fa-check"></i><b>3.5.3</b> Data frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html"><i class="fa fa-check"></i><b>4</b> week 1 Part II</a><ul>
<li class="chapter" data-level="4.1" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#missing-data-nan-na-and-null"><i class="fa fa-check"></i><b>4.1</b> Missing data NaN, NA and NULL</a></li>
<li class="chapter" data-level="4.2" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#functions"><i class="fa fa-check"></i><b>4.2</b> functions</a></li>
<li class="chapter" data-level="4.3" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#plot"><i class="fa fa-check"></i><b>4.3</b> plot</a><ul>
<li class="chapter" data-level="4.3.1" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#pratical-exercise"><i class="fa fa-check"></i><b>4.3.1</b> pratical exercise</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#r-packages"><i class="fa fa-check"></i><b>4.4</b> R Packages</a><ul>
<li class="chapter" data-level="4.4.1" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#create-your-own-package"><i class="fa fa-check"></i><b>4.4.1</b> create your own package</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#read-info-with-read-table"><i class="fa fa-check"></i><b>4.5</b> Read info with read table</a></li>
<li class="chapter" data-level="4.6" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#week-assigment"><i class="fa fa-check"></i><b>4.6</b> week assigment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="week-2-scripting.html"><a href="week-2-scripting.html"><i class="fa fa-check"></i><b>5</b> week 2: Scripting</a><ul>
<li class="chapter" data-level="5.1" data-path="week-1-part-ii.html"><a href="week-1-part-ii.html#functions"><i class="fa fa-check"></i><b>5.1</b> functions</a><ul>
<li class="chapter" data-level="5.1.1" data-path="week-2-scripting.html"><a href="week-2-scripting.html#defining-arguments"><i class="fa fa-check"></i><b>5.1.1</b> defining arguments</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="week-2-scripting.html"><a href="week-2-scripting.html#scoping-rules"><i class="fa fa-check"></i><b>5.2</b> Scoping rules</a></li>
<li class="chapter" data-level="5.3" data-path="week-2-scripting.html"><a href="week-2-scripting.html#what-happened-in-1970-01-01"><i class="fa fa-check"></i><b>5.3</b> What happened in 1970-01-01?</a></li>
<li class="chapter" data-level="5.4" data-path="week-2-scripting.html"><a href="week-2-scripting.html#swirl-practices"><i class="fa fa-check"></i><b>5.4</b> SWIRL practices</a><ul>
<li class="chapter" data-level="5.4.1" data-path="week-2-scripting.html"><a href="week-2-scripting.html#logical-operations"><i class="fa fa-check"></i><b>5.4.1</b> logical operations:</a></li>
<li class="chapter" data-level="5.4.2" data-path="week-2-scripting.html"><a href="week-2-scripting.html#functions-1"><i class="fa fa-check"></i><b>5.4.2</b> functions:</a></li>
<li class="chapter" data-level="5.4.3" data-path="week-2-scripting.html"><a href="week-2-scripting.html#dates-and-times"><i class="fa fa-check"></i><b>5.4.3</b> Dates and times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="week-3.html"><a href="week-3.html"><i class="fa fa-check"></i><b>6</b> week 3:</a></li>
<li class="chapter" data-level="7" data-path="r-objects.html"><a href="r-objects.html"><i class="fa fa-check"></i><b>7</b> R objects</a></li>
<li class="chapter" data-level="8" data-path="create-package-documentation.html"><a href="create-package-documentation.html"><i class="fa fa-check"></i><b>8</b> Create package documentation</a><ul>
<li class="chapter" data-level="8.1" data-path="week-2-scripting.html"><a href="week-2-scripting.html#swirl-practices"><i class="fa fa-check"></i><b>8.1</b> SWIRL practices</a><ul>
<li class="chapter" data-level="8.1.1" data-path="create-package-documentation.html"><a href="create-package-documentation.html#lapply-sapply"><i class="fa fa-check"></i><b>8.1.1</b> lapply sapply</a></li>
<li class="chapter" data-level="8.1.2" data-path="create-package-documentation.html"><a href="create-package-documentation.html#vapply-and-tapply"><i class="fa fa-check"></i><b>8.1.2</b> vapply and tapply</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="week-4-simulation-and-modeling.html"><a href="week-4-simulation-and-modeling.html"><i class="fa fa-check"></i><b>9</b> week 4: Simulation and modeling</a><ul>
<li class="chapter" data-level="9.1" data-path="week-4-simulation-and-modeling.html"><a href="week-4-simulation-and-modeling.html#simulation"><i class="fa fa-check"></i><b>9.1</b> simulation</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science course notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-2-scripting" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> week 2: Scripting</h1>
<p>Now that we have get acquaintance with the R language, some of it’s built-in functions, data types and structures, it’s time to learn about the building blocks of programming, control structures, cicles, and functions.</p>
<p>Like many other promming languages R implements the <strong>if</strong> statement as a control strucutre and the <strong>for</strong> statement and <strong>while</strong> statement in order to produce cicles. there also exists the expresions <strong>repeat</strong>, <strong>break</strong> and <strong>next</strong> which allow to specify a certian behavior different from the rest of the iteration, there are ussually used inside an if statement to represent exception cases inside a loop.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" title="1">number=<span class="dv">1</span></a>
<a class="sourceLine" id="cb66-2" title="2"><span class="cf">if</span>(number<span class="op">&gt;</span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb66-3" title="3">    <span class="kw">print</span>(<span class="st">&quot;the number is positive&quot;</span>)</a>
<a class="sourceLine" id="cb66-4" title="4">}<span class="cf">else</span> <span class="cf">if</span> (number <span class="op">&lt;</span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb66-5" title="5">    <span class="kw">print</span>(<span class="st">&quot;the number is negative&quot;</span>)</a>
<a class="sourceLine" id="cb66-6" title="6">}<span class="cf">else</span> {</a>
<a class="sourceLine" id="cb66-7" title="7">    <span class="kw">print</span>(<span class="st">&quot;the number is 0&quot;</span>)</a>
<a class="sourceLine" id="cb66-8" title="8">}</a></code></pre></div>
<pre><code>## [1] &quot;the number is positive&quot;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" title="1">x&lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>)</a>
<a class="sourceLine" id="cb68-2" title="2"><span class="cf">for</span>(i <span class="cf">in</span> <span class="kw">seq_along</span>(x)){</a>
<a class="sourceLine" id="cb68-3" title="3">    <span class="kw">print</span>(x[i])</a>
<a class="sourceLine" id="cb68-4" title="4">}</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;
## [1] &quot;b&quot;
## [1] &quot;c&quot;</code></pre>
<div id="functions" class="section level2">
<h2><span class="header-section-number">5.1</span> functions</h2>
<p>functions are structures that allow for encasulation and reutilization of an action. It allows to use the same process under different condition using its inputs. The declaration of a function is as follows.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">countdown &lt;-<span class="st"> </span><span class="cf">function</span> (n){</a>
<a class="sourceLine" id="cb70-2" title="2">    <span class="cf">for</span>(timeleft <span class="cf">in</span> n<span class="op">:</span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb70-3" title="3">        </a>
<a class="sourceLine" id="cb70-4" title="4">        <span class="kw">cat</span>(<span class="st">&quot;T minus: &quot;</span>, timeleft, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb70-5" title="5">        <span class="kw">Sys.sleep</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb70-6" title="6">    }</a>
<a class="sourceLine" id="cb70-7" title="7">    <span class="kw">cat</span>(<span class="st">&quot;BOOM!! </span><span class="ch">\n</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb70-8" title="8">}</a>
<a class="sourceLine" id="cb70-9" title="9"></a>
<a class="sourceLine" id="cb70-10" title="10"><span class="kw">countdown</span>(<span class="dv">3</span>)</a></code></pre></div>
<pre><code>## T minus:  3 
## T minus:  2 
## T minus:  1 
## BOOM!!</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1"><span class="kw">countdown</span>(<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## T minus:  5 
## T minus:  4 
## T minus:  3 
## T minus:  2 
## T minus:  1 
## BOOM!!</code></pre>
<p>So as you see we define the countdown function by assigning the reserved-word <strong>function</strong> with the parameters to the function’s name, followed by the declaration of the functionality, contained between curly brackets. Finally we call the function in order to make it work.</p>
<p>As seen we can use <strong>cat</strong> to display values, and this prompts the question: what is the difference between <strong>cat</strong> and <strong>print</strong> ?</p>
<p><strong>cat</strong> in the one hand “converts its arguments to character vectors, concatenates them to a single character vector” <span class="citation">community (<a href="#ref-Rdocumentation" role="doc-biblioref">n.d.</a>)</span> these impose some limitation in that it can only be applied to primary data types. Also it doesn´t produce a new line, so “\n” has to bee specified in order to do so. The returned value of this function is an invisible NULL.</p>
<p><strong>print</strong> in the other hand “is a generic function which means that new printing methods can be easily added for new classes” <span class="citation">community (<a href="#ref-Rdocumentation" role="doc-biblioref">n.d.</a>)</span>. from cat, print returns an invisible of its value which makes it for pipping.</p>
<div id="defining-arguments" class="section level3">
<h3><span class="header-section-number">5.1.1</span> defining arguments</h3>
<p>R allows for great fexibility when dealing with arguments in a function, for example:</p>
<p><strong>Lazy evaluation:</strong> This means that values are only evaluated when needed, this allows R to declared non defined arguments with out a problem as long as they are not used.</p>
<p><strong>default values:</strong> One can set arguments to have default values, when they are not specified in the call of the function they are set to the default value. This can become usefull when dealing with many paramethers who are intended to have to same value must of the time.</p>
<p><strong>partially match:</strong> Arguments can be assigned position based “fun(value1,value2,value3)” or name based “fun(arg2=value2,arg3=value3,arg1=value1)”, name based allows to put in the arguments in different order, however names can be to long, so if the firsts letters of the name uniquily identify the argument they migth be enough to select it this is knonw as a partially match argument.</p>
<p><strong>unspecified arguments:</strong> Sometimes you can not predict what other argument can applied to the function, the three dot “…” argument can be used to assign unspecified arguments. this is ussualy used when extending an exisiting function. One thing to be aware of when using it is that the remainder arguments have to be named or else they will be passed to the “…” partial matching doesn’t work as well.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1">simon_says &lt;-<span class="st"> </span><span class="cf">function</span>(...){</a>
<a class="sourceLine" id="cb74-2" title="2">   <span class="kw">paste</span>(<span class="st">&quot;Simon says:&quot;</span>, ...)</a>
<a class="sourceLine" id="cb74-3" title="3">}</a></code></pre></div>
<p>this function example was taken from swirl’s functions module.</p>
<p><strong>unpacking arguments:</strong> when working with the “…” you might one to extract an especific value you can access these values byconverting the “…” into a list</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1">f &lt;-<span class="st"> </span><span class="cf">function</span>(x, ...) {</a>
<a class="sourceLine" id="cb75-2" title="2">  args =<span class="st"> </span><span class="kw">list</span>(...) </a>
<a class="sourceLine" id="cb75-3" title="3">  <span class="kw">print</span>(args<span class="op">$</span>message)</a>
<a class="sourceLine" id="cb75-4" title="4">}</a>
<a class="sourceLine" id="cb75-5" title="5"></a>
<a class="sourceLine" id="cb75-6" title="6"><span class="kw">f</span>(x,<span class="dt">name=</span><span class="st">&quot;Pedrito&quot;</span>,<span class="dt">message=</span><span class="st">&quot;hola&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;hola&quot;</code></pre>
<p>All of these techniques allows for great diversity when using functions.</p>
</div>
</div>
<div id="scoping-rules" class="section level2">
<h2><span class="header-section-number">5.2</span> Scoping rules</h2>
<p>R holds each definition in memory as a symbol value pair. however the same symbol might be defined differently in in two separated occation, so how does R determine which one to use?</p>
<p>This issue can be resolve thanks to scoping rules, which sort out the vaule of a symbol by following a herachy of environments that can be display by the command <strong>search()</strong>. First the symbol is look in the global environment, in second place it is search in the loaded libraries and then the rest of the build packages. R separates functions and function so you can have one with each with the same name.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" title="1">    external=<span class="st"> &quot;I am from the outside world&quot;</span></a>
<a class="sourceLine" id="cb77-2" title="2">    f&lt;-<span class="cf">function</span>(){</a>
<a class="sourceLine" id="cb77-3" title="3">        <span class="kw">print</span>(external)</a>
<a class="sourceLine" id="cb77-4" title="4">    }</a>
<a class="sourceLine" id="cb77-5" title="5">    f2&lt;-<span class="st"> </span><span class="cf">function</span>(){</a>
<a class="sourceLine" id="cb77-6" title="6">        external=<span class="st">&quot; I am inside function 2&quot;</span></a>
<a class="sourceLine" id="cb77-7" title="7">        <span class="kw">f</span>()</a>
<a class="sourceLine" id="cb77-8" title="8">    }</a>
<a class="sourceLine" id="cb77-9" title="9">    <span class="kw">f</span>()</a></code></pre></div>
<pre><code>## [1] &quot;I am from the outside world&quot;</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1">    <span class="kw">f2</span>()</a></code></pre></div>
<pre><code>## [1] &quot;I am from the outside world&quot;</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1">    external=<span class="st"> &quot;I am from the outside world&quot;</span></a>
<a class="sourceLine" id="cb81-2" title="2">    </a>
<a class="sourceLine" id="cb81-3" title="3">    f&lt;-<span class="cf">function</span>(){</a>
<a class="sourceLine" id="cb81-4" title="4">            <span class="kw">print</span>(external)</a>
<a class="sourceLine" id="cb81-5" title="5">        }</a>
<a class="sourceLine" id="cb81-6" title="6">    f2&lt;-<span class="st"> </span><span class="cf">function</span>(){</a>
<a class="sourceLine" id="cb81-7" title="7">        </a>
<a class="sourceLine" id="cb81-8" title="8">        f&lt;-<span class="cf">function</span>(){</a>
<a class="sourceLine" id="cb81-9" title="9">            <span class="kw">print</span>(external)</a>
<a class="sourceLine" id="cb81-10" title="10">        }</a>
<a class="sourceLine" id="cb81-11" title="11">        </a>
<a class="sourceLine" id="cb81-12" title="12">        external=<span class="st">&quot; I am inside function 2&quot;</span></a>
<a class="sourceLine" id="cb81-13" title="13">        <span class="kw">f</span>()</a>
<a class="sourceLine" id="cb81-14" title="14">        </a>
<a class="sourceLine" id="cb81-15" title="15">    }</a>
<a class="sourceLine" id="cb81-16" title="16">    </a>
<a class="sourceLine" id="cb81-17" title="17">    <span class="kw">f</span>()</a></code></pre></div>
<pre><code>## [1] &quot;I am from the outside world&quot;</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" title="1">    <span class="kw">f2</span>()</a></code></pre></div>
<pre><code>## [1] &quot; I am inside function 2&quot;</code></pre>
<p>In the previus example we saw that the function could use a variable that was not declared inside the function these are known as free variables. The scopping rules state that free variables would be search inside the environment where the function was defined, if not found, it is search up to the parent environment the example intends to be a reflection of this behavior.</p>
<p>what value does a free variable has is tight to what enviroment it is on. the ls() function can help you see what is inside an enviroment, and the function get() what value does it have</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">ls</span>(<span class="kw">environment</span>(f))</a></code></pre></div>
<pre><code>##  [1] &quot;answers&quot;       &quot;binary&quot;        &quot;classes&quot;       &quot;clean_data&quot;   
##  [5] &quot;countdown&quot;     &quot;data&quot;          &quot;data2&quot;         &quot;dimensions&quot;   
##  [9] &quot;external&quot;      &quot;external_deck&quot; &quot;f&quot;             &quot;f2&quot;           
## [13] &quot;good&quot;          &quot;i&quot;             &quot;initial&quot;       &quot;missing&quot;      
## [17] &quot;newnames&quot;      &quot;number&quot;        &quot;opinion_poll&quot;  &quot;satisfaction&quot; 
## [21] &quot;simon_says&quot;    &quot;students&quot;      &quot;text&quot;          &quot;x&quot;            
## [25] &quot;y&quot;</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1"><span class="kw">get</span>(<span class="st">&quot;external&quot;</span>,<span class="kw">environment</span>(f))</a></code></pre></div>
<pre><code>## [1] &quot;I am from the outside world&quot;</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" title="1"><span class="kw">get</span>(<span class="st">&quot;external&quot;</span>,<span class="kw">environment</span>(f2))</a></code></pre></div>
<pre><code>## [1] &quot;I am from the outside world&quot;</code></pre>
<p>Do to lexical scoping all variables must be stored in memory.</p>
</div>
<div id="what-happened-in-1970-01-01" class="section level2">
<h2><span class="header-section-number">5.3</span> What happened in 1970-01-01?</h2>
<p>The first of january of 1970 is an important date and marks the start of time itself, at least as far as computers are concerned. This date was set as the start of the <strong>unix epoch</strong> a system that meassures time based on the number of seconds past since this date. This system has been used widly and now the unix time (POSIX) is the primary way computers deal with time.</p>
<p>R has to ways of deailing with time:</p>
<ul>
<li>Dates: which can be represented using the Date class count the number of days since the unix epoch.</li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" title="1">x&lt;-<span class="kw">as.Date</span>(<span class="st">&quot;1978-12-1&quot;</span>)</a>
<a class="sourceLine" id="cb91-2" title="2"><span class="kw">class</span>(x)</a></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" title="1"><span class="kw">unclass</span>(x)</a></code></pre></div>
<pre><code>## [1] 3256</code></pre>
<ul>
<li>Time: which uses POSIX can become in two different standars. POSIXct which works deep down as a integer counter, it is to work with data frames; and POSIXlt which stores the time in a list structure, with much more baggage information that can be easier to access.</li>
</ul>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" title="1">now &lt;-<span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb95-2" title="2"></a>
<a class="sourceLine" id="cb95-3" title="3">now</a></code></pre></div>
<pre><code>## [1] &quot;2020-07-24 18:05:23 -05&quot;</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" title="1">now_ls &lt;-<span class="st"> </span><span class="kw">as.POSIXlt</span>(now)</a>
<a class="sourceLine" id="cb97-2" title="2"></a>
<a class="sourceLine" id="cb97-3" title="3"><span class="kw">names</span>(<span class="kw">unclass</span>(now_ls))</a></code></pre></div>
<pre><code>##  [1] &quot;sec&quot;    &quot;min&quot;    &quot;hour&quot;   &quot;mday&quot;   &quot;mon&quot;    &quot;year&quot;   &quot;wday&quot;   &quot;yday&quot;  
##  [9] &quot;isdst&quot;  &quot;zone&quot;   &quot;gmtoff&quot;</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" title="1">now_ls<span class="op">$</span>year</a></code></pre></div>
<pre><code>## [1] 120</code></pre>
<p>As the example showed the time is relative to 1-1-1970</p>
<p>We have shown so far how the system intepret dates and times but imagine you want to enter dates that are written as strings. <strong>strptime()</strong> take care of this, it only needs the string and the format. It also allows to specify the time zone if needed.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" title="1"><span class="co"># ?strptime</span></a>
<a class="sourceLine" id="cb101-2" title="2">str_date=<span class="st"> &quot;4 de julio de 1991&quot;</span></a>
<a class="sourceLine" id="cb101-3" title="3"> </a>
<a class="sourceLine" id="cb101-4" title="4">date=<span class="kw">strptime</span>(str_date, <span class="dt">format=</span><span class="st">&quot;%d de %B de %Y &quot;</span>,<span class="dt">tz=</span><span class="st">&quot;GMT&quot;</span>)</a>
<a class="sourceLine" id="cb101-5" title="5"><span class="kw">class</span>(date)</a></code></pre></div>
<pre><code>## [1] &quot;POSIXlt&quot; &quot;POSIXt&quot;</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" title="1">date<span class="op">+</span><span class="dv">365</span></a></code></pre></div>
<pre><code>## [1] &quot;1991-07-04 00:06:05 GMT&quot;</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" title="1">date<span class="op">$</span>mon</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
</div>
<div id="swirl-practices" class="section level2">
<h2><span class="header-section-number">5.4</span> SWIRL practices</h2>
<p>As part as this weeks assigment one needed to complete the swirl practices of logic, functions and Dates and Times.</p>
<div id="logical-operations" class="section level3">
<h3><span class="header-section-number">5.4.1</span> logical operations:</h3>
<p>when using single operand the value gets evaluated by each one of the elements of the list, double operand evalutes only the first element.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" title="1"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" title="1"><span class="ot">TRUE</span> <span class="op">&amp;&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="functions-1" class="section level3">
<h3><span class="header-section-number">5.4.2</span> functions:</h3>
<p>Anonimous functions.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" title="1"><span class="kw">evaluate</span>(<span class="cf">function</span>(x){x<span class="op">+</span><span class="dv">1</span>}, <span class="dv">6</span>)</a></code></pre></div>
<p>binary operator
convolution</p>
</div>
<div id="dates-and-times" class="section level3">
<h3><span class="header-section-number">5.4.3</span> Dates and times</h3>
<p>If needed the lubridate package developed by Hadley Wickham enhances the posibilities of the basic Date class. dates might seem easy at first glance but as it was put by <span class="citation">Wickham and Grolemund (<a href="#ref-wickham2017r" role="doc-biblioref">2017</a>)</span></p>
<blockquote>
<p>Dates and times are hard because they have to reconcile two physical phenomena (the rotation of the Earth and its orbit around the sun) with a whole raft of geopolitical phenomena including months, time zones, and DST.</p>
</blockquote>
<p>So it is important to appreaciate the work others have put in, in order to make it easier to work with the messy way we meassure time, so you can focus on whatever you are working on rather that getting distracted trying to format dates information.</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Rdocumentation">
<p>community, R. n.d. “Rdocumentation.” <a href="https://www.rdocumentation.org/">https://www.rdocumentation.org/</a>.</p>
</div>
<div id="ref-wickham2017r">
<p>Wickham, H., and G. Grolemund. 2017. <em>R for Data Science</em>. O’Reilly Media. <a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week-1-part-ii.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week-3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
